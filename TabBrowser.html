<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Browser Windows & Tabs Visualizer</title>

    <link rel="stylesheet" href="css/TabBrowser.css">
</head>

<body>
    <h1>Browser Windows & Tabs Visualizer</h1>

    <div class="input-section" id="inputSection">
        <h2>Enter Browser Data</h2>
        <p>Paste your JSON data below. The structure should match the example format shown.</p>
        <div class="error-message" id="errorMessage"></div>
        <textarea id="jsonInput" class="json-input"
            placeholder='Enter JSON with the structure: [{"windows": {"windowId": {"tabId": {"id": number, "index": number, "lastAccessed": number, "title": string, "url": string, "groupId"?: number}, ...}, ...}}]'></textarea>
        <div class="button-group">
            <button id="loadBtn" class="button">Load Data</button>
            <button id="loadSampleBtn" class="button secondary">Load Sample Data</button>
            <button id="clearBtn" class="button secondary">Clear</button>
        </div>
    </div>

    <div id="loadingIndicator" class="loading">
        <div>Processing data...</div>
        <div class="progress-container">
            <div id="progressBar" class="progress-bar"></div>
        </div>
        <div id="loadingDetails" class="loading-details">Analyzing browser data structure...</div>
    </div>

    <div class="visualization-section" id="visualizationSection">
        <div class="toolbar">
            <button id="selectAllBtn" class="button secondary">
                <i class="icon icon-select-all"></i> Select All
            </button>
            <button id="selectNoneBtn" class="button secondary">
                <i class="icon icon-select-none"></i> Deselect All
            </button>
            <button id="expandAllBtn" class="button secondary">
                <i class="icon icon-expand-all"></i> Expand All
            </button>
            <button id="collapseAllBtn" class="button secondary">
                <i class="icon icon-collapse-all"></i> Collapse All
            </button>
            <button id="deleteSelectedBtn" class="button secondary">
                <i class="icon icon-delete-selected"></i> Delete Selected
            </button>
        </div>

        <div class="search-container">
            <input type="text" id="searchBar" class="search-bar" placeholder="Search for tabs by title or URL...">
        </div>

        <div id="searchStats" class="search-stats"></div>

        <div id="tabWindowCount" class="tab-window-count"></div>

        <div class="container" id="container"></div>
        <div id="noResults" class="no-results hidden">No tabs match your search.</div>

        <div class="button-group" style="margin-top: 20px;">
            <button id="backToInput" class="button secondary">Back to Input</button>
        </div>
    </div>

    <script type="module" src="js/TabBrowser.js"></script>
</body>

</html>
